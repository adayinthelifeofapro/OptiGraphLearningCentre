@using OptimizelyLearningCentre.Client.Models.Configuration

<div class="flex items-center gap-2 px-3 py-1.5 rounded-full text-sm @BackgroundClass">
    <span class="w-2 h-2 rounded-full @DotClass"></span>
    <span>@StatusText</span>
</div>

@code {
    [Parameter]
    public ConnectionStatus Status { get; set; }

    private string BackgroundClass => Status switch
    {
        ConnectionStatus.Connected => "bg-green-900/30 text-green-400",
        ConnectionStatus.Testing => "bg-yellow-900/30 text-yellow-400",
        ConnectionStatus.Failed => "bg-red-900/30 text-red-400",
        ConnectionStatus.Unauthorized => "bg-red-900/30 text-red-400",
        _ => "bg-gray-700/30 text-gray-400"
    };

    private string DotClass => Status switch
    {
        ConnectionStatus.Connected => "bg-green-400",
        ConnectionStatus.Testing => "bg-yellow-400 animate-pulse",
        ConnectionStatus.Failed => "bg-red-400",
        ConnectionStatus.Unauthorized => "bg-red-400",
        _ => "bg-gray-400"
    };

    private string StatusText => Status switch
    {
        ConnectionStatus.Connected => "Connected",
        ConnectionStatus.Testing => "Testing...",
        ConnectionStatus.Failed => "Disconnected",
        ConnectionStatus.Unauthorized => "Unauthorized",
        _ => "Not configured"
    };
}
